// Prisma Schema for KosanHub - Property Rental & Marketplace SaaS
// ERD Implementation with Soft Delete

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

// =============================================================================
// ENUMS - All possible values for specific fields
// =============================================================================

enum UserRole {
  SUPER_ADMIN  // Platform administrator - full access
  ADMIN        // Platform staff - moderate access
  OWNER        // Property owner - manage own properties
  AGENT        // Registered agent - manage client properties (verified)
  TENANT       // Renter/resident - can rent properties
  USER         // Basic user - browse only
}

enum VerificationStatus {
  PENDING      // Waiting for verification
  VERIFIED     // Verified by admin
  REJECTED     // Rejected by admin
  SUSPENDED    // Temporarily suspended
}

enum PropertyType {
  KOS          // Boarding house (per room)
  KONTRAKAN    // Rental house (whole house)
  VILLA        // Villa for short-term
  HOUSE        // House for sale/rent
  LAND         // Land for sale
  APARTMENT    // Apartment unit
}

enum ListingType {
  RENT         // For rent
  SALE         // For sale
}

enum RoomStatus {
  AVAILABLE    // Ready to rent
  OCCUPIED     // Currently occupied
  RESERVED     // Reserved but not occupied
  MAINTENANCE  // Under maintenance
}

enum ResidentStatus {
  ACTIVE       // Currently residing
  ENDED        // Contract ended
  SUSPENDED    // Temporarily suspended
}

enum PaymentStatus {
  PENDING      // Waiting for payment
  PAID         // Payment confirmed
  OVERDUE      // Payment overdue
  CANCELLED    // Payment cancelled
  REFUNDED     // Payment refunded
}

enum PaymentType {
  RENT         // Monthly rent
  DEPOSIT      // Security deposit
  UTILITY      // Utilities (water, electricity)
  OTHER        // Other charges
}

enum PaymentMethod {
  CASH         // Cash payment
  BANK_TRANSFER // Bank transfer
  EWALLET      // E-wallet (GoPay, OVO, etc)
  CARD         // Credit/Debit card
  VIRTUAL_ACCOUNT // Virtual account
}

enum BookingStatus {
  PENDING      // Waiting confirmation
  CONFIRMED    // Confirmed by owner
  CANCELLED    // Cancelled
  COMPLETED    // Booking completed
  REJECTED     // Rejected by owner
}

enum CertificateType {
  SHM          // Sertifikat Hak Milik
  HGB          // Hak Guna Bangunan
  AJB          // Akta Jual Beli
  GIRIK        // Girik
  STRATA       // Strata Title
  PPJB         // Perjanjian Pengikatan Jual Beli
  OTHER        // Lainnya
}

enum MessageType {
  TEXT         // Text message
  IMAGE        // Image attachment
  DOCUMENT     // Document attachment
  SYSTEM       // System message
}

enum ReportType {
  SPAM         // Spam content
  FRAUD        // Suspected fraud
  INAPPROPRIATE // Inappropriate content
  FAKE_LISTING // Fake property listing
  FAKE_ACCOUNT // Fake/bot account
  OTHER        // Other issues
}

enum ReportStatus {
  PENDING      // Under review
  INVESTIGATING // Being investigated
  RESOLVED     // Issue resolved
  DISMISSED    // Report dismissed
}

enum SubscriptionStatus {
  ACTIVE       // Currently active
  CANCELLED    // Cancelled by user
  EXPIRED      // Subscription expired
  SUSPENDED    // Suspended by admin
}

enum Gender {
  MALE
  FEMALE
}

enum MaritalStatus {
  SINGLE
  MARRIED
  DIVORCED
  WIDOWED
}

// =============================================================================
// USER & AUTHENTICATION
// =============================================================================

model User {
  id                    String              @id @default(cuid())
  email                 String              @unique
  phone                 String?             @unique
  passwordHash          String?
  
  // Profile
  name                  String
  avatar                String?
  role                  UserRole            @default(USER)
  
  // Identity Verification (Anti-Fraud)
  ktpNumber             String?
  ktpImage              String?             // URL to Google Drive
  selfieImage           String?             // Selfie with KTP
  dateOfBirth           DateTime?
  gender                Gender?
  address               String?
  
  // Business Info (for OWNER/AGENT)
  businessName          String?
  businessAddress       String?
  npwp                  String?
  agentLicense          String?             // For AGENT role - license number
  
  // Verification & Trust (Anti-Fraud)
  verificationStatus    VerificationStatus  @default(PENDING)
  verificationNote      String?             // Admin note on verification
  verifiedAt            DateTime?
  verifiedBy            String?             // Admin who verified
  trustScore            Int                 @default(0) // 0-100 trust score
  
  // Status
  isActive              Boolean             @default(true)
  emailVerifiedAt       DateTime?
  phoneVerifiedAt       DateTime?
  lastLoginAt           DateTime?
  
  // OAuth
  accounts              Account[]
  sessions              Session[]
  
  // Relations
  properties            Property[]          @relation("PropertyOwner")
  agentProperties       Property[]          @relation("PropertyAgent") // Properties managed by this agent
  residents             Resident[]          @relation("ResidentUser")
  payments              Payment[]           @relation("PaymentUser")
  chatParticipants      ChatParticipant[]
  messagesSent          Message[]
  listings              Listing[]
  bookings              Booking[]
  favorites             Favorite[]
  subscriptions         Subscription[]
  notifications         Notification[]
  
  // Reports (Anti-Fraud)
  reportsSubmitted      Report[]            @relation("ReportSubmitter")
  reportsReceived       Report[]            @relation("ReportTarget")
  
  // Audit
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?           // Soft delete
  deletedBy             String?
  
  @@index([email])
  @@index([phone])
  @@index([role])
  @@index([verificationStatus])
  @@index([deletedAt])
}

// NextAuth.js Account (OAuth)
model Account {
  id                    String              @id @default(cuid())
  userId                String
  type                  String
  provider              String
  providerAccountId     String
  refresh_token         String?             @db.Text
  access_token          String?             @db.Text
  expires_at            Int?
  token_type            String?
  scope                 String?
  id_token              String?             @db.Text
  session_state         String?
  
  user                  User                @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  @@unique([provider, providerAccountId])
  @@index([userId])
}

// NextAuth.js Session
model Session {
  id                    String              @id @default(cuid())
  sessionToken          String              @unique
  userId                String
  expires               DateTime
  
  user                  User                @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  @@index([userId])
}

// NextAuth.js Verification Token
model VerificationToken {
  identifier            String
  token                 String              @unique
  expires               DateTime
  
  @@unique([identifier, token])
}

// =============================================================================
// PROPERTY MANAGEMENT
// =============================================================================

model Property {
  id                    String              @id @default(cuid())
  ownerId               String
  agentId               String?             // Optional agent managing this property
  
  // Basic Info
  name                  String
  type                  PropertyType
  description           String?             @db.Text
  
  // Location
  address               String
  province              String
  city                  String
  district              String?
  subdistrict           String?
  postalCode            String?
  latitude              Decimal?            @db.Decimal(10, 8)
  longitude             Decimal?            @db.Decimal(11, 8)
  
  // Specifications
  landArea              Int?                // m²
  buildingArea          Int?                // m²
  totalRooms            Int                 @default(0)
  totalFloors           Int                 @default(1)
  yearBuilt             Int?
  certificate           CertificateType?
  
  // Verification (Anti-Fraud)
  isVerified            Boolean             @default(false)
  verifiedAt            DateTime?
  verifiedBy            String?
  verificationNote      String?
  
  // Settings
  isPublished           Boolean             @default(false)
  
  // Relations
  owner                 User                @relation("PropertyOwner", fields: [ownerId], references: [id])
  agent                 User?               @relation("PropertyAgent", fields: [agentId], references: [id])
  rooms                 Room[]
  residents             Resident[]
  images                PropertyImage[]
  facilities            PropertyFacility[]
  listings              Listing[]
  payments              Payment[]
  
  // Audit
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([ownerId])
  @@index([agentId])
  @@index([type])
  @@index([city])
  @@index([isPublished])
  @@index([deletedAt])
}

model PropertyImage {
  id                    String              @id @default(cuid())
  propertyId            String
  
  imageUrl              String
  driveFileId           String?
  caption               String?
  isPrimary             Boolean             @default(false)
  sortOrder             Int                 @default(0)
  
  property              Property            @relation(fields: [propertyId], references: [id], onDelete: Cascade)
  
  createdAt             DateTime            @default(now())
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([propertyId])
}

model PropertyFacility {
  id                    String              @id @default(cuid())
  propertyId            String
  
  facilityCode          String              // AC, WIFI, PARKING, etc.
  facilityName          String
  
  property              Property            @relation(fields: [propertyId], references: [id], onDelete: Cascade)
  
  createdAt             DateTime            @default(now())
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([propertyId])
}

// =============================================================================
// ROOM MANAGEMENT (for KOS type)
// =============================================================================

model Room {
  id                    String              @id @default(cuid())
  propertyId            String
  
  // Basic Info
  name                  String              // e.g., "Kamar 1A"
  floor                 Int                 @default(1)
  roomSize              Int?                // m²
  
  // Pricing
  priceDaily            Decimal?            @db.Decimal(15, 2)
  priceMonthly          Decimal?            @db.Decimal(15, 2)
  priceYearly           Decimal?            @db.Decimal(15, 2)
  deposit               Decimal?            @db.Decimal(15, 2)
  
  // Status
  status                RoomStatus          @default(AVAILABLE)
  isActive              Boolean             @default(true)
  
  // Relations
  property              Property            @relation(fields: [propertyId], references: [id], onDelete: Cascade)
  residents             Resident[]
  images                RoomImage[]
  facilities            RoomFacility[]
  bookings              Booking[]
  
  // Audit
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([propertyId])
  @@index([status])
  @@index([deletedAt])
}

model RoomImage {
  id                    String              @id @default(cuid())
  roomId                String
  
  imageUrl              String
  driveFileId           String?
  caption               String?
  isPrimary             Boolean             @default(false)
  sortOrder             Int                 @default(0)
  
  room                  Room                @relation(fields: [roomId], references: [id], onDelete: Cascade)
  
  createdAt             DateTime            @default(now())
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([roomId])
}

model RoomFacility {
  id                    String              @id @default(cuid())
  roomId                String
  
  facilityCode          String
  facilityName          String
  
  room                  Room                @relation(fields: [roomId], references: [id], onDelete: Cascade)
  
  createdAt             DateTime            @default(now())
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([roomId])
}

// =============================================================================
// RESIDENT MANAGEMENT (PRIVATE DATA)
// =============================================================================

model Resident {
  id                    String              @id @default(cuid())
  propertyId            String
  roomId                String?
  userId                String?             // Link to user account if registered
  
  // Personal Info (PRIVATE - only visible to property owner)
  fullName              String
  ktpNumber             String
  ktpImageUrl           String?
  selfieUrl             String?
  dateOfBirth           DateTime?
  placeOfBirth          String?
  gender                Gender?
  religion              String?
  maritalStatus         MaritalStatus?
  occupation            String?
  phone                 String
  email                 String?
  originAddress         String?             @db.Text
  
  // Emergency Contact
  emergencyName         String?
  emergencyRelation     String?
  emergencyPhone        String?
  emergencyAddress      String?
  
  // Rental Info
  checkInDate           DateTime
  checkOutDate          DateTime?
  rentalPrice           Decimal             @db.Decimal(15, 2)
  depositAmount         Decimal?            @db.Decimal(15, 2)
  depositStatus         PaymentStatus       @default(PENDING)
  paymentDueDay         Int                 @default(1) // 1-31
  rentalStatus          ResidentStatus      @default(ACTIVE)
  notes                 String?             @db.Text
  
  // Relations
  property              Property            @relation(fields: [propertyId], references: [id])
  room                  Room?               @relation(fields: [roomId], references: [id])
  user                  User?               @relation("ResidentUser", fields: [userId], references: [id])
  payments              Payment[]
  documents             ResidentDocument[]
  
  // Audit
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([propertyId])
  @@index([roomId])
  @@index([userId])
  @@index([rentalStatus])
  @@index([deletedAt])
}

model ResidentDocument {
  id                    String              @id @default(cuid())
  residentId            String
  
  documentType          String              // KTP, KK, CONTRACT, OTHER
  documentName          String
  documentUrl           String
  driveFileId           String?
  
  resident              Resident            @relation(fields: [residentId], references: [id], onDelete: Cascade)
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([residentId])
}

// =============================================================================
// PAYMENT MANAGEMENT
// =============================================================================

model Payment {
  id                    String              @id @default(cuid())
  residentId            String
  propertyId            String
  userId                String?             // Paying user
  
  // Payment Info
  paymentType           PaymentType
  amount                Decimal             @db.Decimal(15, 2)
  periodStart           DateTime?
  periodEnd             DateTime?
  dueDate               DateTime?
  paidDate              DateTime?
  
  // Payment Method
  paymentMethod         PaymentMethod?
  paymentProofUrl       String?
  transactionId         String?             // External payment gateway ID
  
  // Status
  status                PaymentStatus       @default(PENDING)
  notes                 String?
  
  // Verification
  verifiedById          String?
  verifiedAt            DateTime?
  
  // Relations
  resident              Resident            @relation(fields: [residentId], references: [id])
  property              Property            @relation(fields: [propertyId], references: [id])
  user                  User?               @relation("PaymentUser", fields: [userId], references: [id])
  
  // Audit
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([residentId])
  @@index([propertyId])
  @@index([status])
  @@index([dueDate])
  @@index([deletedAt])
}

// =============================================================================
// CHAT SYSTEM
// =============================================================================

model Chat {
  id                    String              @id @default(cuid())
  propertyId            String?
  listingId             String?
  
  chatType              String              @default("DIRECT") // DIRECT, PROPERTY, LISTING
  lastMessageAt         DateTime?
  
  // Relations
  participants          ChatParticipant[]
  messages              Message[]
  
  // Audit
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([propertyId])
  @@index([listingId])
  @@index([deletedAt])
}

model ChatParticipant {
  id                    String              @id @default(cuid())
  chatId                String
  userId                String
  
  role                  String              @default("MEMBER") // OWNER, MEMBER
  isBlocked             Boolean             @default(false)
  blockedAt             DateTime?
  lastReadAt            DateTime?
  
  chat                  Chat                @relation(fields: [chatId], references: [id], onDelete: Cascade)
  user                  User                @relation(fields: [userId], references: [id])
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@unique([chatId, userId])
  @@index([chatId])
  @@index([userId])
}

model Message {
  id                    String              @id @default(cuid())
  chatId                String
  senderId              String
  
  messageType           MessageType         @default(TEXT)
  content               String?             @db.Text
  mediaUrl              String?
  driveFileId           String?
  
  isRead                Boolean             @default(false)
  readAt                DateTime?
  
  chat                  Chat                @relation(fields: [chatId], references: [id], onDelete: Cascade)
  sender                User                @relation(fields: [senderId], references: [id])
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([chatId])
  @@index([senderId])
  @@index([createdAt])
  @@index([deletedAt])
}

// =============================================================================
// MARKETPLACE LISTINGS
// =============================================================================

model Listing {
  id                    String              @id @default(cuid())
  ownerId               String
  propertyId            String?
  
  // Basic Info
  title                 String
  listingType           ListingType
  propertyType          PropertyType
  description           String?             @db.Text
  
  // Location
  address               String
  province              String
  city                  String
  district              String?
  latitude              Decimal?            @db.Decimal(10, 8)
  longitude             Decimal?            @db.Decimal(11, 8)
  
  // Specifications
  landArea              Int?
  buildingArea          Int?
  bedrooms              Int?
  bathrooms             Int?
  floors                Int                 @default(1)
  certificate           CertificateType?
  condition             String?             // NEW, GOOD, RENOVATED, NEEDS_REPAIR
  furnished             String?             // UNFURNISHED, SEMI, FULLY
  
  // Pricing
  price                 Decimal             @db.Decimal(15, 2)
  pricePeriod           String?             // DAILY, MONTHLY, YEARLY, ONCE
  isNegotiable          Boolean             @default(true)
  depositAmount         Decimal?            @db.Decimal(15, 2)
  
  // Verification (Anti-Fraud)
  isVerified            Boolean             @default(false)
  verifiedAt            DateTime?
  verifiedBy            String?
  verificationNote      String?
  
  // Status
  status                String              @default("DRAFT") // DRAFT, PENDING, ACTIVE, SOLD, RENTED, EXPIRED, REJECTED
  views                 Int                 @default(0)
  featured              Boolean             @default(false)
  expiresAt             DateTime?
  
  // Relations
  owner                 User                @relation(fields: [ownerId], references: [id])
  property              Property?           @relation(fields: [propertyId], references: [id])
  images                ListingImage[]
  facilities            ListingFacility[]
  bookings              Booking[]
  favorites             Favorite[]
  
  // Audit
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([ownerId])
  @@index([propertyId])
  @@index([listingType, propertyType])
  @@index([city])
  @@index([price])
  @@index([status])
  @@index([isVerified])
  @@index([deletedAt])
}

model ListingImage {
  id                    String              @id @default(cuid())
  listingId             String
  
  imageUrl              String
  driveFileId           String?
  caption               String?
  isPrimary             Boolean             @default(false)
  sortOrder             Int                 @default(0)
  
  listing               Listing             @relation(fields: [listingId], references: [id], onDelete: Cascade)
  
  createdAt             DateTime            @default(now())
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([listingId])
}

model ListingFacility {
  id                    String              @id @default(cuid())
  listingId             String
  
  facilityCode          String
  facilityName          String
  
  listing               Listing             @relation(fields: [listingId], references: [id], onDelete: Cascade)
  
  createdAt             DateTime            @default(now())
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([listingId])
}

// =============================================================================
// BOOKINGS
// =============================================================================

model Booking {
  id                    String              @id @default(cuid())
  listingId             String
  userId                String
  roomId                String?
  
  bookingType           String              // RENT, VISIT, PURCHASE
  checkIn               DateTime?
  checkOut              DateTime?
  guests                Int                 @default(1)
  
  totalPrice            Decimal             @db.Decimal(15, 2)
  status                BookingStatus       @default(PENDING)
  notes                 String?
  
  // Response
  respondedAt           DateTime?
  responseNote          String?
  
  listing               Listing             @relation(fields: [listingId], references: [id])
  user                  User                @relation(fields: [userId], references: [id])
  room                  Room?               @relation(fields: [roomId], references: [id])
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([listingId])
  @@index([userId])
  @@index([status])
  @@index([deletedAt])
}

// =============================================================================
// FAVORITES
// =============================================================================

model Favorite {
  id                    String              @id @default(cuid())
  userId                String
  listingId             String
  
  user                  User                @relation(fields: [userId], references: [id])
  listing               Listing             @relation(fields: [listingId], references: [id])
  
  createdAt             DateTime            @default(now())
  deletedAt             DateTime?
  deletedBy             String?
  
  @@unique([userId, listingId])
  @@index([userId])
  @@index([listingId])
}

// =============================================================================
// REPORTS (ANTI-FRAUD SYSTEM)
// =============================================================================

model Report {
  id                    String              @id @default(cuid())
  submitterId           String
  targetUserId          String?
  targetListingId       String?
  targetPropertyId      String?
  
  reportType            ReportType
  description           String              @db.Text
  evidence              String?             // URLs to evidence images
  
  status                ReportStatus        @default(PENDING)
  
  // Admin Response
  reviewedById          String?
  reviewedAt            DateTime?
  reviewNote            String?
  actionTaken           String?
  
  submitter             User                @relation("ReportSubmitter", fields: [submitterId], references: [id])
  targetUser            User?               @relation("ReportTarget", fields: [targetUserId], references: [id])
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([submitterId])
  @@index([targetUserId])
  @@index([status])
  @@index([reportType])
}

// =============================================================================
// SUBSCRIPTION (SAAS)
// =============================================================================

model SubscriptionPlan {
  id                    String              @id @default(cuid())
  
  name                  String
  code                  String              @unique // FREE, BASIC, PRO, ENTERPRISE
  priceMonthly          Decimal             @db.Decimal(15, 2)
  priceYearly           Decimal?            @db.Decimal(15, 2)
  
  maxListings           Int                 @default(0) // 0 = unlimited
  maxResidents          Int                 @default(0)
  maxProperties         Int                 @default(0)
  storageMb             Int                 @default(0)
  
  features              Json?               // {"feature_code": true/false}
  
  isActive              Boolean             @default(true)
  
  subscriptions         Subscription[]
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
}

model Subscription {
  id                    String              @id @default(cuid())
  userId                String
  planId                String
  
  status                SubscriptionStatus  @default(ACTIVE)
  billingCycle          String              @default("MONTHLY") // MONTHLY, YEARLY
  
  currentPeriodStart    DateTime
  currentPeriodEnd      DateTime
  cancelledAt           DateTime?
  
  user                  User                @relation(fields: [userId], references: [id])
  plan                  SubscriptionPlan    @relation(fields: [planId], references: [id])
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([userId])
  @@index([planId])
  @@index([status])
}

// =============================================================================
// NOTIFICATIONS
// =============================================================================

model Notification {
  id                    String              @id @default(cuid())
  userId                String
  
  type                  String              // PAYMENT_DUE, NEW_MESSAGE, BOOKING, VERIFICATION, etc.
  title                 String
  content               String?
  data                  Json?               // Additional data
  
  isRead                Boolean             @default(false)
  readAt                DateTime?
  
  user                  User                @relation(fields: [userId], references: [id])
  
  createdAt             DateTime            @default(now())
  deletedAt             DateTime?
  deletedBy             String?
  
  @@index([userId])
  @@index([isRead])
  @@index([createdAt])
}

// =============================================================================
// AUDIT LOGS
// =============================================================================

model AuditLog {
  id                    String              @id @default(cuid())
  userId                String?
  
  action                String              // CREATE, UPDATE, DELETE, LOGIN, etc.
  entityType            String              // users, properties, payments, etc.
  entityId              String?
  
  oldData               Json?
  newData               Json?
  ipAddress             String?
  userAgent             String?
  
  createdAt             DateTime            @default(now())
  
  @@index([userId])
  @@index([entityType])
  @@index([action])
  @@index([createdAt])
}

// =============================================================================
// FACILITY MASTER DATA
// =============================================================================

model Facility {
  id                    String              @id @default(cuid())
  
  code                  String              @unique
  name                  String
  icon                  String?
  category              String?             // ROOM, BUILDING, LOCATION
  
  isActive              Boolean             @default(true)
  
  createdAt             DateTime            @default(now())
  updatedAt             DateTime            @updatedAt
  deletedAt             DateTime?
  deletedBy             String?
}
